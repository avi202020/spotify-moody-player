(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{111:function(e,t,n){e.exports=n.p+"static/media/cover.1602b481.jpg"},202:function(e,t,n){e.exports=n(323)},211:function(e,t,n){},323:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(21),c=n.n(o),s=n(17),i=n(27),l=n(110),u=(n(211),n(18)),d=n(11),g=n(8),m=n.n(g),p=n(61),h=n.n(p),f=n(39),E=n.n(f),S=function(e){return{type:"PLAY_SONG",song:e}},y=function(e){return{type:"UPDATE_SONG_TIME",time:e}},b=function(e){return{type:"GET_SONG_INDEX",songIndex:e}},v=function(e,t){return function(n){var a=new Request("https://api.spotify.com/v1/audio-features/".concat(e),{headers:new Headers({Authorization:"Bearer "+t})});n({type:"GET_SONG_FEATURES_PENDING"}),fetch(a).then(function(e){return"Unauthorized"===e.statusText&&(window.location.href="./"),e.json()}).then(function(e){n({type:"GET_SONG_FEATURES_SUCCESS",features:e})}).catch(function(e){n({type:"GET_SONG_FEATURES_ERROR"})})}},O=n(56),x=n.n(O),T=n(57),k=n.n(T),I=n(41),w=n.n(I),_=n(42),P=n.n(_),R=n(53),j=n.n(R),N=n(55),C=n.n(N),A=n(24),G=n.n(A),D=n(54),L=n.n(D),F=n(40),U=n.n(F),H={getSongFeatures:v,getSongIndex:b,playSong:S},M=Object(s.b)(function(e){return{songs:e.songsReducer.songs?e.songsReducer:"",token:e.tokenReducer.token?e.tokenReducer.token:"",playlists:e.playlistsReducer,songIndex:e.songsReducer.songIndex}},H)(Object(d.withStyles)(function(e){return{content:{flexGrow:1,padding:0*e.spacing.unit,overflow:"auto",scrollbarWidth:"none","&::-webkit-scrollbar":{width:"0",height:"0"}},table:{maxWidth:500},tableC:{borderBottomColor:e.palette.divider},tableRow:{"&:hover":{cursor:"pointer"}}}})(function(e){var t=Object(a.useState)(e.songIndex),n=Object(u.a)(t,2),o=n[0],c=n[1],s=null;Object(a.useEffect)(function(){e.songs.playlistId&&s&&(s.scrollTop=0)},[e.songs.playlistId]),Object(a.useEffect)(function(){c(e.songIndex)},[e.songIndex]);var i=e.classes;return e.songs.songs?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:i.content,ref:function(e){s=e}},r.a.createElement(j.a,{className:i.table},r.a.createElement(L.a,null,r.a.createElement(U.a,{key:"headertable"},r.a.createElement(G.a,{className:i.tableC},"TITLE"),r.a.createElement(G.a,{className:i.tableC,align:"left"},"ARTIST"),r.a.createElement(G.a,{className:i.tableC,align:"left"},"DURATION"))),r.a.createElement(C.a,null,e.songs.songs.map(function(t,n){return r.a.createElement(U.a,{selected:o===n,className:i.tableRow,hover:!0,key:n+""+t.track.id,onClick:function(){return function(t,n){e.getSongIndex(n),e.playSong(t.track),e.getSongFeatures(t.track.id,e.token),e.playAudio(t)}(t,n)}},r.a.createElement(G.a,{className:i.tableC,component:"th",scope:"row"},t.track.name),r.a.createElement(G.a,{className:i.tableC,align:"left"},t.track.artists[0].name),r.a.createElement(G.a,{className:i.tableC,align:"left"},function(e){var t=Math.floor(e/6e4),n=(e%6e4/1e3).toFixed(0);return t+":"+(n<10?"0":"")+n}(t.track.duration_ms)))}))))):null})),Y=n(20),z=n.n(Y),W={fetchPlaylists:function(e,t){return function(n){var a=new Request("https://api.spotify.com/v1/users/".concat(e,"/playlists?limit=50"),{headers:new Headers({Authorization:"Bearer "+t})});n({type:"FETCH_PLAYLISTS_PENDING"}),fetch(a).then(function(e){return"Unauthorized"===e.statusText&&(window.location.href="./"),e.json()}).then(function(e){n({type:"FETCH_PLAYLISTS_SUCCESS",playlists:e.items})}).catch(function(e){n({type:"FETCH_PLAYLISTS_ERROR"})})}},fetchPlaylistSongs:function(e,t,n){return function(a){var r=new Request("https://api.spotify.com/v1/users/".concat(e,"/playlists/").concat(t,"/tracks"),{headers:new Headers({Authorization:"Bearer "+n})});a({type:"FETCH_PLAYLIST_SONGS_PENDING"}),fetch(r).then(function(e){return e.json()}).then(function(e){a(function(e,t){return{type:"FETCH_PLAYLIST_SONGS_SUCCESS",songs:e,playlistId:t}}(e.items,t))}).catch(function(e){a({type:"FETCH_PLAYLIST_SONGS_ERROR"})})}},playSong:S,getSongFeatures:v,getSongIndex:b,getPlaylistIndex:function(e){return{type:"GET_PLAYLIST_INDEX",playlistIndex:e}}},B=Object(s.b)(function(e){return{userId:e.userReducer.user?e.userReducer.user.id:"",token:e.tokenReducer.token?e.tokenReducer.token:"",playlists:e.playlistsReducer,songs:e.songsReducer.songs?e.songsReducer:"",selectedSongId:e.songsReducer.songId,fetchSongsPending:e.songsReducer.fetchSongsPending}},W)(Object(d.withStyles)(function(e){return{root:{display:"flex",maxHeight:"640px"},drawer:{width:240,flexShrink:0},drawerPaper:{width:240,position:"relative",background:"transparent",overflow:"auto",scrollbarWidth:"none","&::-webkit-scrollbar":{width:"0",height:"0"}},playTitle:{position:"absolute",marginLeft:"15px",marginTop:"-25px"},tracklistTotal:{position:"absolute",marginLeft:"265px",marginTop:"640px"}}})(function(e){var t=Object(a.useState)(e.playlists.playlistIndex),n=Object(u.a)(t,2),o=n[0],c=n[1];Object(a.useEffect)(function(){""!==e.userId&&""!==e.token&&e.fetchPlaylists(e.userId,e.token)},[e.userId]);var s=function(t,n,a,r){e.songs.playlistId!==n&&(e.fetchPlaylistSongs(t,n,a),e.getPlaylistIndex(r),e.getSongIndex(null),c(r))},i=e.classes;return r.a.createElement(r.a.Fragment,null,r.a.createElement(z.a,{className:i.playTitle,variant:"overline",noWrap:!0},"PLAYLISTS"),r.a.createElement(z.a,{className:i.tracklistTotal,variant:"overline",noWrap:!0},e.songs.songs?e.songs.songs.length+" SONGS":null),r.a.createElement("div",{className:i.root},r.a.createElement(x.a,{className:i.drawer,variant:"permanent",classes:{paper:i.drawerPaper},anchor:"left"},r.a.createElement(k.a,{component:"nav"},e.playlists.playlists?e.playlists.playlists.map(function(t,n){return r.a.createElement(w.a,{variant:"body2",button:!0,selected:o===n,key:t.id,onClick:function(){return s(e.userId,t.id,e.token,n)}},r.a.createElement(P.a,{primary:t.name}))}):r.a.createElement(r.a.Fragment,null,r.a.createElement(w.a,{variant:"body2",key:"generic"},r.a.createElement(P.a,{primary:"Loading Playlists..."}))))),e.fetchSongsPending?null:r.a.createElement(M,{playAudio:e.playAudio})))})),V=n(22),q=n(25),K=n.n(q),X=Object(d.withStyles)(function(e){return{iconHover:{color:e.palette.primary.main,"&:hover":{color:e.palette.primary.light}}}})(function(e){var t=e.classes;return r.a.createElement(K.a,{className:t.iconHover,style:{fontSize:e.iconSize}},e.iconName)}),$={playSong:S,getSongFeatures:v,getSongIndex:b},J=Object(s.b)(function(e){return{songPaused:e.songsReducer.songPaused,songPlaying:e.songsReducer.songPlaying,songDetails:e.songsReducer.songDetails,songList:e.songsReducer.songs?e.songsReducer.songs:null,songId:e.songsReducer.songId?e.songsReducer.songId:null,songIndex:e.songsReducer.songIndex,token:e.tokenReducer.token?e.tokenReducer.token:""}},$)(Object(d.withStyles)({root:{flexGrow:1},buttonSO:{padding:"0px","&:hover":{backgroundColor:"transparent"}}})(function(e){var t=Object(a.useState)(e.songPaused?"play_arrow":"pause"),n=Object(u.a)(t,2),o=n[0],c=n[1];Object(a.useEffect)(function(){c(e.songPaused?"play_arrow":"pause")},[e.songPaused]);var s=e.classes;return r.a.createElement(m.a,{className:s.root,container:!0,direction:"row",spacing:0},r.a.createElement(m.a,{item:!0},r.a.createElement(V.a,{disableRipple:!0,className:s.buttonSO,onClick:function(){var t=e.songList,n=e.songId,a=e.songIndex,r=e.token;n&&null!==a&&(0===a?(e.playSong(t[t.length-1].track),e.getSongIndex(t.length-1),e.getSongFeatures(t[t.length-1].track.id,r),e.playAudio(t[t.length-1])):(e.playSong(t[a-1].track),e.getSongIndex(a-1),e.getSongFeatures(t[a-1].track.id,r),e.playAudio(t[a-1])))}},r.a.createElement(X,{iconName:"skip_previous",iconSize:40}))),r.a.createElement(m.a,{item:!0},r.a.createElement(V.a,{disableRipple:!0,className:s.buttonSO,onClick:function(){var t=e.songPlaying,n=e.songPaused;t&&n&&e.resumeAudio(),t&&!n&&e.pauseAudio()}},r.a.createElement(X,{iconName:o,iconSize:40}))),r.a.createElement(m.a,{item:!0},r.a.createElement(V.a,{disableRipple:!0,className:s.buttonSO,onClick:function(){var t=e.songList,n=e.songId,a=e.songIndex,r=e.token;n&&null!==a&&(a+1>=t.length?(e.playSong(t[0].track),e.getSongFeatures(t[0].track.id,r),e.getSongIndex(0),e.playAudio(t[0])):(e.playSong(t[a+1].track),e.getSongFeatures(t[a+1].track.id,r),e.getSongIndex(a+1),e.playAudio(t[a+1])))}},r.a.createElement(X,{iconName:"skip_next",iconSize:40}))))})),Q=Object(d.withStyles)({image:{maxWidth:"640px",maxHeight:"640px"},img:{margin:"auto",display:"block",maxWidth:"100%",maxHeight:"100%",boxShadow:"2px 2px 10px #000000"}})(function(e){var t=e.classes;return r.a.createElement(m.a,{item:!0,xs:!0,className:t.image},r.a.createElement("img",{className:t.img,alt:"AnalBumCover",src:e.albumcover}))}),Z=n(64),ee=n.n(Z),te=Object(s.b)(function(e){return{songsInfo:e.songsReducer}})(Object(d.withStyles)(function(e){return{root:{flexGrow:0,position:"relative"},elapsedTimeMargin:{verticalAlign:"bottom",float:"left",marginTop:"-10px"},totalTimeMargin:{verticalAlign:"bottom",float:"right",marginTop:"-10px"},slider:{"&:hover":{cursor:"default"},padding:"22px 0px"},trackThickness:{backgroundColor:e.palette.primary.main,height:5},thumbIcon:{opacity:1,"&:hover":{boxShadow:"0px 0px 0px 5px var(--custom-color)"},"&$activated":{boxShadow:"0px 0px 0px 9px var(--custom-color)!important"},"&$jumped":{boxShadow:"0px 0px 0px 9px var(--custom-color)!important"}},activated:{},jumped:{},focused:{}}})(function(e){var t=e.classes;return r.a.createElement("div",{className:t.root},r.a.createElement(ee.a,{min:0,max:30,step:1,className:t.root,classes:{container:t.slider,track:t.trackThickness,thumb:t.thumbIcon,activated:t.activated,jumped:t.jumped,focused:t.focused},value:Math.ceil(e.songsInfo.timeElapsed)}),r.a.createElement("div",{className:t.elapsedTimeMargin},r.a.createElement(z.a,{variant:"caption",noWrap:!0},function(e){var t=Math.ceil(e);return t<10?"0:0".concat(t):"0:".concat(t)}(e.songsInfo.timeElapsed))),r.a.createElement("div",{className:t.totalTimeMargin},r.a.createElement(z.a,{variant:"caption",noWrap:!0},"0:30")))})),ne={updateVolume:function(e){return{type:"UPDATE_VOLUME",volume:e}}},ae=Object(s.b)(function(e){return{volume:e.soundReducer.volume}},ne)(Object(d.withStyles)(function(e){return{root:{flexGrow:1},slider:{padding:"22px 0px","&:hover $thumbIcon":{opacity:1}},trackThickness:{backgroundColor:e.palette.primary.main,height:5},thumbIcon:{opacity:0}}})(function(e){var t=Object(a.useState)(e.volume),n=Object(u.a)(t,2),o=n[0],c=n[1],s=e.classes;return r.a.createElement(ee.a,{min:0,max:100,className:s.root,classes:{container:s.slider,track:s.trackThickness,thumb:s.thumbIcon},value:o,onChange:function(t,n){c(n),e.updateVolume(Math.ceil(n))}})})),re=Object(d.withStyles)(function(e){return{root:{flexGrow:0},volIcon:{float:"right",marginRight:"-10px","&:hover":{backgroundColor:"transparent"}},ico:{float:"right",marginTop:"12px",marginRight:"5px",color:e.palette.primary.main}}})(function(e){var t=e.classes;return r.a.createElement(m.a,{className:t.root,container:!0,direction:"row"},r.a.createElement(m.a,{item:!0,xs:2},r.a.createElement(K.a,{className:t.ico,style:{fontSize:20}},"volume_up")),r.a.createElement(m.a,{item:!0,xs:!0},r.a.createElement(ae,null)))}),oe=Object(s.b)(function(e){return{songDetails:e.songsReducer.songDetails}})(function(e){return r.a.createElement(z.a,{variant:"h4",color:"primary",noWrap:!0},e.songDetails?e.songDetails.artists[0].name+" - "+e.songDetails.name:null)}),ce=Object(d.withStyles)({outer:{width:"100%",height:"100%",position:"absolute",backgroundColor:"rgba(255, 255, 255, 0.6)"}})(function(e){var t=e.classes;return r.a.createElement("div",{className:t.outer,style:{backgroundColor:e.bcolor}},e.children)}),se=Object(d.withStyles)({inner:{width:"100%",height:"100%",position:"absolute",transform:"scale(0.89)"}})(function(e){var t=e.classes;return r.a.createElement("div",{className:t.inner},e.children)}),ie=n(58),le=n.n(ie),ue=Object(d.withStyles)(function(e){return{fab:{backgroundColor:"#1DB954","&:hover":{backgroundColor:"#14813a"}},container:{maxWidth:"640px"},text:{paddingBottom:"30px"}}})(function(e){var t=e.classes;return r.a.createElement("div",{className:t.container},r.a.createElement(z.a,{className:t.text,variant:"h4",color:"primary"},"The colors will match the mood of the song."),r.a.createElement(le.a,{variant:"extended",className:t.fab,onClick:function(){return window.location.href="https://accounts.spotify.com/authorize?client_id=11ca528f5f3447c3913e6f903faa8999&scope=playlist-read-private%20playlist-read-collaborative%20user-library-read%20user-read-private%20user-read-email%20user-top-read%20user-read-playback-state&response_type=token&redirect_uri=https://shaggun.github.io/spotify-moody-player"}},r.a.createElement(z.a,{color:"primary"},"LOG IN WITH SPOTIFY")))}),de=n(111),ge=n.n(de),me=n(33),pe=n.n(me),he=n(59),fe=n.n(he),Ee=n(60),Se=n.n(Ee),ye=n(32),be=n.n(ye),ve=n(38),Oe=n.n(ve),xe={toggleDarkMode:function(){return{type:"TOGGLE_DARK_MODE"}},toggleDynamicColor:function(){return{type:"TOGGLE_DYNAMIC_COLOR"}},toggleHiddenPlaylist:function(){return{type:"TOGGLE_HIDE_PLAYLIST"}}},Te=Object(s.b)(function(e){return{switchState:e.uiSwitches}},xe)(Object(d.withStyles)(function(e){return{paper:{position:"absolute",top:60,right:0,left:-100},wholeSet:{position:"relative"},fieldSet:{marginLeft:"10px"}}})(function(e){var t=Object(a.useState)(e.switchState.uiHiddenPlaylist),n=Object(u.a)(t,2),o=n[0],c=n[1],s=Object(a.useState)(e.switchState.uiDynamicColor),i=Object(u.a)(s,2),l=i[0],d=i[1],g=Object(a.useState)(e.switchState.uiDarkMode),m=Object(u.a)(g,2),p=m[0],h=m[1],f=function(t){return function(n){switch(t){case"hiddenPlaylist":return e.toggleHiddenPlaylist(),c(n.target.checked);case"dynamicColor":return e.toggleDynamicColor(),d(n.target.checked);case"darkMode":return e.toggleDarkMode(),h(n.target.checked);default:return null}}},E=e.classes;return r.a.createElement(Oe.a,{className:E.paper},r.a.createElement(fe.a,{component:"fieldset",className:E.fieldSet},r.a.createElement(Se.a,null,r.a.createElement(be.a,{control:r.a.createElement(pe.a,{checked:o,onChange:f("hiddenPlaylist"),value:"hiddenPlay"}),label:"Hide Playlist"}),r.a.createElement(be.a,{control:r.a.createElement(pe.a,{checked:l,onChange:f("dynamicColor"),value:"dynamicColor"}),label:"Dynamic Color"}),l?null:r.a.createElement(be.a,{control:r.a.createElement(pe.a,{checked:p,onChange:f("darkMode"),value:"darkMode"}),label:"Dark Mode"}))))})),ke=n(82),Ie=n.n(ke),we=n(112),_e=n.n(we),Pe=n(113),Re=n.n(Pe),je=n(114),Ne=n.n(je),Ce=n(115),Ae=n.n(Ce),Ge=n(116),De=n.n(Ge),Le=n(117),Fe=n.n(Le),Ue=n(118),He=n.n(Ue),Me=n(119),Ye=n.n(Me),ze=n(120),We=n.n(ze),Be=n(121),Ve=n.n(Be),qe=n(122),Ke=n.n(qe),Xe=n(81),$e=n.n(Xe),Je=n(123),Qe=n.n(Je),Ze=[{color:Ie.a,shadeText:300},{color:_e.a,shadeText:400},{color:Re.a,shadeText:700},{color:Ne.a,shadeText:900},{color:Ae.a,shadeText:900},{color:De.a,shadeText:800},{color:Fe.a,shadeText:600},{color:He.a,shadeText:500},{color:Ye.a,shadeText:300},{color:We.a,shadeText:600},{color:Ve.a,shadeText:500},{color:Ke.a,shadeText:400},{color:$e.a,shadeText:200},{color:Qe.a,shadeText:200}],et=function(e){return Math.round(13*e)},tt=function(e){return 100*Math.round((800*e+100)/100)},nt=Object(d.createMuiTheme)({palette:{type:"dark",primary:{main:"#ffffff",light:"#1DB954"},secondary:{main:"#1DB954"}},typography:{useNextVariants:!0}}),at=Object(d.createMuiTheme)({palette:{type:"light",primary:{main:"#242424",light:"#1DB954"},secondary:{main:"#1DB954"}},typography:{useNextVariants:!0}}),rt={stopSong:function(){return{type:"STOP_SONG"}},pauseSong:function(){return{type:"PAUSE_SONG"}},resumeSong:function(){return{type:"RESUME_SONG"}},updateSongTime:y},ot=Object(s.b)(function(e){return{switchState:e.uiSwitches,auth:e.tokenReducer,songDetails:e.songsReducer.songDetails,songFeatures:e.songsReducer.features?e.songsReducer.features:"",songsInfo:e.songsReducer,volume:e.soundReducer.volume,songPaused:e.songsReducer.songPaused,songPlaying:e.songsReducer.songPlaying}},rt)(Object(d.withStyles)(function(e){return{root:{flexGrow:1,width:"100%",height:"100vh"},gridContainer:{},topRow:{height:"85vh",overflow:"hidden"},paper:{position:"absolute",top:60,right:0,left:-100},iconSelection:{"&:hover":{backgroundColor:"transparent"}},iconPlaceholder:{color:"rgba(0,0,0,0)"},wholeSet:{position:"relative"},fieldSet:{marginLeft:"10px"},ContainerOuter:{width:"100%",height:"100%",position:"absolute",backgroundColor:"rgba(0, 0, 0, 0.6)"},ContainerInner:{width:"100%",height:"100%",position:"absolute",transform:"scale(0.89)"}}})(function(e){var t=Object(a.useState)(!1),n=Object(u.a)(t,2),o=n[0],c=n[1],s=Object(a.useState)(ge.a),i=Object(u.a)(s,2),l=i[0],g=i[1],p=Object(a.useState)("rgba(2,136,209,0.6)"),f=Object(u.a)(p,2),S=f[0],b=f[1],v=Object(a.useState)(!1),O=Object(u.a)(v,2),x=O[0],T=O[1],k=Object(a.useRef)(),I=Object(a.useRef)();Object(a.useEffect)(function(){e.songFeatures.energy&&(g(e.songDetails.album.images[0].url),b(function(e,t){var n=e.replace("#","");return"rgba("+parseInt(n.substring(0,2),16)+","+parseInt(n.substring(2,4),16)+","+parseInt(n.substring(4,6),16)+","+t+")"}(function(e,t){var n=et(e),a=tt(t);return Ze[n].color[a]}(e.songFeatures.energy,e.songFeatures.valence),.6)),T(function(e,t){var n=et(e),a=tt(t);return Ze[n].shadeText>=a}(e.songFeatures.energy,e.songFeatures.valence)))},[e.songFeatures]),Object(a.useEffect)(function(){void 0!==I.current&&(I.current.volume=e.volume/100)},[e.volume]),Object(a.useEffect)(function(){I.current&&(e.songPaused?(clearInterval(k.current),I.current.pause()):(I.current.play(),w()))},[e.songPaused]),Object(a.useEffect)(function(){e.songPlaying||(clearInterval(k.current),y(0))},[e.songPlaying]);var w=function(){clearInterval(k.current);var t=setInterval(function(){I.current&&(I.current.ended?(clearInterval(k.current),_(),e.updateSongTime(0)):e.songsInfo.songPaused||e.updateSongTime(I.current.currentTime))},1e3);k.current=t},_=function(){I.current&&(e.pauseSong(),I.current.pause(),clearInterval(k.current))},P=function(t){var n=e.updateSongTime;clearInterval(k.current),null!==t.track.preview_url?void 0===I.current?I.current=new Audio(t.track.preview_url):(n(0),I.current.pause(),I.current=new Audio(t.track.preview_url),I.current.play(),w()):I.current?(I.current.pause(),e.stopSong(),clearInterval(k.current),e.updateSongTime(0)):(e.stopSong(),clearInterval(k.current),e.updateSongTime(0))},R=e.classes;return document.body.style.backgroundImage="url(".concat(l,")"),r.a.createElement(d.MuiThemeProvider,{theme:e.switchState.uiDynamicColor?x?at:nt:e.switchState.uiDarkMode?nt:at},r.a.createElement(ce,{bcolor:e.switchState.uiDynamicColor?S:e.switchState.uiDarkMode?"rgba(0, 0, 0, 0.6)":"rgba(255, 255, 255, 0.4)"},r.a.createElement(se,null,r.a.createElement("div",{className:R.root},r.a.createElement(m.a,{container:!0,justify:"space-between",alignItems:"stretch",spacing:16,className:R.gridContainer},r.a.createElement(m.a,{item:!0,container:!0,xs:12,direction:"row",justify:"space-between",alignItems:"center",spacing:16,wrap:"nowrap"},r.a.createElement(m.a,{item:!0,xs:1},r.a.createElement(K.a,{className:R.iconPlaceholder,style:{fontSize:40}},"fiber_manual_record")),r.a.createElement(m.a,{item:!0,zeroMinWidth:!0},r.a.createElement(oe,null)),r.a.createElement(m.a,{item:!0,xs:1,container:!0,justify:"flex-end"},e.auth.token?r.a.createElement("div",{className:R.wholeSet},r.a.createElement(h.a,{onClickAway:function(){c(!1)}},r.a.createElement("div",null,r.a.createElement(E.a,{disableRipple:!0,className:R.iconSelection,onClick:function(){c(!o)}},r.a.createElement(X,{iconName:"more_horiz",iconSize:40})),o?r.a.createElement(Te,null):null))):null)),e.switchState.uiHiddenPlaylist?r.a.createElement(m.a,{item:!0,container:!0,xs:12,direction:"row",spacing:16,justify:"center",alignItems:"center",className:R.topRow},r.a.createElement(Q,{albumcover:l})):r.a.createElement(m.a,{item:!0,container:!0,xs:12,direction:"row",spacing:16,justify:"center",alignItems:"center",className:R.topRow},r.a.createElement(m.a,{item:!0,container:!0,xs:!0,justify:"flex-end"},r.a.createElement(Q,{albumcover:l})),r.a.createElement(m.a,{item:!0,container:!0,xs:6},e.auth.token?r.a.createElement(B,{playAudio:P}):r.a.createElement(ue,null))),r.a.createElement(m.a,{item:!0,container:!0,xs:12,direction:"row",justify:"space-between",spacing:16},e.auth.token?r.a.createElement(r.a.Fragment,null,r.a.createElement(m.a,{item:!0},r.a.createElement(J,{pauseAudio:_,resumeAudio:function(){I.current&&e.resumeSong()},playAudio:P})),r.a.createElement(m.a,{item:!0,xs:!0},r.a.createElement(te,null)),r.a.createElement(m.a,{item:!0,sm:1},r.a.createElement(re,null))):null))))))})),ct=n(62),st=n.n(ct),it=Object(s.b)(function(e){return{token:e.tokenReducer}},{setToken:function(e){return{type:"SET_TOKEN",token:e}},fetchUser:function(e){return function(t){var n=new Request("https://api.spotify.com/v1/me",{headers:new Headers({Authorization:"Bearer "+e})});fetch(n).then(function(e){return"Unauthorized"===e.statusText&&(window.location.href="./"),e.json()}).then(function(e){t({type:"FETCH_USER_SUCCESS",user:e})}).catch(function(e){t({type:"FETCH_USER_ERROR"})})}}})(function(e){return Object(a.useEffect)(function(){for(var t,n={},a=/([^&;=]+)=?([^&;]*)/g,r=window.location.hash.substring(1);t=a.exec(r);)n[t[1]]=decodeURIComponent(t[2]);n.access_token&&e.setToken(n.access_token)},[]),Object(a.useEffect)(function(){e.token.token&&e.fetchUser(e.token.token)},[e.token]),r.a.createElement("div",null,r.a.createElement(st.a,null),r.a.createElement(ot,null))}),lt=n(9),ut={uiHiddenPlaylist:!1,uiDynamicColor:!0,uiDarkMode:!0},dt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ut;switch((arguments.length>1?arguments[1]:void 0).type){case"TOGGLE_HIDE_PLAYLIST":return Object(lt.a)({},e,{uiHiddenPlaylist:!e.uiHiddenPlaylist});case"TOGGLE_DYNAMIC_COLOR":return Object(lt.a)({},e,{uiDynamicColor:!e.uiDynamicColor});case"TOGGLE_DARK_MODE":return Object(lt.a)({},e,{uiDarkMode:!e.uiDarkMode});default:return e}},gt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_USER_SUCCESS":return Object(lt.a)({},e,{user:t.user,fetchUserError:!1});case"FETCH_USER_ERROR":return Object(lt.a)({},e,{fetchUserError:!0});default:return e}},mt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_PLAYLISTS_PENDING":return Object(lt.a)({fetchPlaylistsPending:!0},e);case"FETCH_PLAYLISTS_SUCCESS":return Object(lt.a)({playlists:t.playlists,fetchPlaylistError:!1,fetchPlaylistsPending:!1},e);case"FETCH_PLAYLISTS_ERROR":return Object(lt.a)({fetchPlaylistError:!0,fetchPlaylistsPending:!1},e);case"GET_PLAYLIST_INDEX":return Object(lt.a)({},e,{playlistIndex:t.playlistIndex});default:return e}},pt={fetchSongsPending:!0,songPlaying:!1,timeElapsed:0,songId:0,viewType:"songs",songPaused:!0},ht=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_PLAYLIST_SONGS_PENDING":return Object(lt.a)({},e,{fetchSongsPending:!0});case"FETCH_PLAYLIST_SONGS_SUCCESS":return Object(lt.a)({},e,{songs:t.songs,fetchArtistSongsError:!1,fetchArtistSongsPending:!1,playlistId:t.playlistId,fetchSongsPending:!1});case"FETCH_PLAYLIST_SONGS_ERROR":return Object(lt.a)({},e,{fetchArtistSongsError:!0,fetchArtistSongsPending:!1,fetchSongsPending:!0});case"PLAY_SONG":return Object(lt.a)({},e,{songPlaying:!0,songDetails:t.song,songId:t.song.id,timeElapsed:0,songPaused:!1});case"STOP_SONG":return Object(lt.a)({},e,{songPlaying:!1,timeElapsed:0,songPaused:!0});case"PAUSE_SONG":return Object(lt.a)({},e,{songPaused:!0});case"RESUME_SONG":return Object(lt.a)({},e,{songPaused:!1});case"UPDATE_SONG_TIME":return Object(lt.a)({},e,{timeElapsed:t.time});case"GET_SONG_INDEX":return Object(lt.a)({},e,{songIndex:t.songIndex});case"GET_SONG_FEATURES_ERROR":return Object(lt.a)({},e,{getSongFeaturesError:!0,getSongFeaturesPending:!1});case"GET_SONG_FEATURES_PENDING":return Object(lt.a)({},e,{getSongFeaturesPending:!0,getSongFeaturesError:!1});case"GET_SONG_FEATURES_SUCCESS":return Object(lt.a)({},e,{features:t.features,getSongFeaturesError:!1,getSongFeaturesPending:!1});default:return e}},ft=Object(i.c)({userReducer:gt,uiSwitches:dt,playlistsReducer:mt,songsReducer:ht,soundReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{volume:100},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_VOLUME":return{volume:t.volume};default:return e}},tokenReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_TOKEN":return Object(lt.a)({},e,{token:t.token});default:return e}}}),Et=Object(i.d)(ft,Object(i.a)(l.a));c.a.render(r.a.createElement(s.a,{store:Et},r.a.createElement(it,null)),document.querySelector("#root"))}},[[202,1,2]]]);
//# sourceMappingURL=main.626c2554.chunk.js.map