(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{117:function(e,t,a){e.exports=a.p+"static/media/cover.1602b481.jpg"},208:function(e,t,a){e.exports=a(329)},217:function(e,t,a){},329:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(25),s=a.n(o),i=a(17),c=a(31),l=a(116),u=(a(217),a(18)),p=a(19),d=a(22),h=a(20),g=a(21),m=a(36),f=a(11),y=a(8),S=a.n(y),E=a(66),b=a.n(E),v=a(44),k=a.n(v),O=function(e){return{type:"PLAY_SONG",song:e}},x=function(e){return{type:"GET_SONG_INDEX",songIndex:e}},T=function(e,t){return function(a){var n=new Request("https://api.spotify.com/v1/audio-features/".concat(e),{headers:new Headers({Authorization:"Bearer "+t})});a({type:"GET_SONG_FEATURES_PENDING"}),fetch(n).then(function(e){return"Unauthorized"===e.statusText&&(window.location.href="./"),e.json()}).then(function(e){a({type:"GET_SONG_FEATURES_SUCCESS",features:e})}).catch(function(e){a({type:"GET_SONG_FEATURES_ERROR"})})}},I=a(61),C=a.n(I),w=a(62),_=a.n(w),P=a(45),j=a.n(P),N=a(46),R=a.n(N),A=a(58),D=a.n(A),L=a(60),G=a.n(L),F=a(28),M=a.n(F),U=a(59),H=a.n(U),Y=a(47),z=a.n(Y),B=a(24),W=a.n(B),V=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).state={selectedIndexPL:a.props.playlists.playlistIndex,selectedIndexSong:a.props.songIndex},a}return Object(g.a)(t,e),Object(p.a)(t,[{key:"componentDidUpdate",value:function(e){this.props!==e&&this.props.userId!==e.userId&&""!==this.props.userId&&""!==this.props.token&&this.props.fetchPlaylists(this.props.userId,this.props.token),this.props.songIndex!==e.songIndex&&this.setState({selectedIndexSong:this.props.songIndex})}},{key:"renderList",value:function(){var e=this;return this.props.playlists.playlists?this.props.playlists.playlists.map(function(t,a){return r.a.createElement(j.a,{variant:"body2",button:!0,selected:e.state.selectedIndexPL===a,key:t.id,onClick:function(){return e.FetchSongs(e.props.userId,t.id,e.props.token,a)}},r.a.createElement(R.a,{primary:t.name}))}):r.a.createElement(r.a.Fragment,null,r.a.createElement(j.a,{variant:"body2",key:"generic"},r.a.createElement(R.a,{primary:"Loading Playlists..."})))}},{key:"msToMinutesAndSeconds",value:function(e){var t=Math.floor(e/6e4),a=(e%6e4/1e3).toFixed(0);return t+":"+(a<10?"0":"")+a}},{key:"FetchSongs",value:function(e,t,a,n){this.props.songs.playlistId!==t&&(this.props.fetchPlaylistSongs(e,t,a),this.props.getPlaylistIndex(n),this.props.getSongIndex(null),this.setState({selectedIndexPL:n}),this.setState({selectedIndexSong:null}))}},{key:"SelectSongToPlay",value:function(e,t){this.props.playAudio(e),this.props.getSongFeatures(e.track.id,this.props.token),this.props.getSongIndex(t),this.setState({selectedIndexSong:t})}},{key:"renderTrackList",value:function(){var e=this,t=this.props.classes;return this.props.songs.songs?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:t.content},r.a.createElement(D.a,{className:t.table},r.a.createElement(H.a,null,r.a.createElement(z.a,{key:"headertable"},r.a.createElement(M.a,{className:t.tableC},"TITLE"),r.a.createElement(M.a,{className:t.tableC,align:"left"},"ARTIST"),r.a.createElement(M.a,{className:t.tableC,align:"left"},"DURATION"))),r.a.createElement(G.a,null,this.props.songs.songs.map(function(a,n){return r.a.createElement(z.a,{selected:e.state.selectedIndexSong===n,className:t.tableRow,hover:!0,key:n+""+a.track.id,onClick:function(){return e.SelectSongToPlay(a,n)}},r.a.createElement(M.a,{className:t.tableC,component:"th",scope:"row"},a.track.name),r.a.createElement(M.a,{className:t.tableC,align:"left"},a.track.artists[0].name),r.a.createElement(M.a,{className:t.tableC,align:"left"},e.msToMinutesAndSeconds(a.track.duration_ms)))}))))):null}},{key:"render",value:function(){var e=this.props.classes;return r.a.createElement(r.a.Fragment,null,r.a.createElement(W.a,{className:e.playTitle,variant:"overline",noWrap:!0},"PLAYLISTS"),r.a.createElement(W.a,{className:e.tracklistTotal,variant:"overline",noWrap:!0},this.props.songs.songs?this.props.songs.songs.length+" SONGS":null),r.a.createElement("div",{className:e.root},r.a.createElement(C.a,{className:e.drawer,variant:"permanent",classes:{paper:e.drawerPaper},anchor:"left"},r.a.createElement(_.a,{component:"nav"},this.renderList())),this.renderTrackList()))}}]),t}(r.a.Component),q={fetchPlaylists:function(e,t){return function(a){var n=new Request("https://api.spotify.com/v1/users/".concat(e,"/playlists?limit=50"),{headers:new Headers({Authorization:"Bearer "+t})});a({type:"FETCH_PLAYLISTS_PENDING"}),fetch(n).then(function(e){return"Unauthorized"===e.statusText&&(window.location.href="./"),e.json()}).then(function(e){a({type:"FETCH_PLAYLISTS_SUCCESS",playlists:e.items})}).catch(function(e){a({type:"FETCH_PLAYLISTS_ERROR"})})}},fetchPlaylistSongs:function(e,t,a){return function(n){var r=new Request("https://api.spotify.com/v1/users/".concat(e,"/playlists/").concat(t,"/tracks"),{headers:new Headers({Authorization:"Bearer "+a})});n({type:"FETCH_PLAYLIST_SONGS_PENDING"}),fetch(r).then(function(e){return e.json()}).then(function(e){n(function(e,t){return{type:"FETCH_PLAYLIST_SONGS_SUCCESS",songs:e,playlistId:t}}(e.items,t))}).catch(function(e){n({type:"FETCH_PLAYLIST_SONGS_ERROR"})})}},playSong:O,getSongFeatures:T,getSongIndex:x,getPlaylistIndex:function(e){return{type:"GET_PLAYLIST_INDEX",playlistIndex:e}}},K=Object(i.b)(function(e){return{userId:e.userReducer.user?e.userReducer.user.id:"",token:e.tokenReducer.token?e.tokenReducer.token:"",playlists:e.playlistsReducer,songs:e.songsReducer.songs?e.songsReducer:"",selectedSongId:e.songsReducer.songId,songIndex:e.songsReducer.songIndex}},q)(Object(f.withStyles)(function(e){return{root:{display:"flex",maxHeight:"640px"},drawer:{width:240,flexShrink:0},drawerPaper:{width:240,position:"relative",background:"transparent",overflow:"auto",scrollbarWidth:"none","&::-webkit-scrollbar":{width:"0",height:"0"}},content:{flexGrow:1,padding:0*e.spacing.unit,overflow:"auto",scrollbarWidth:"none","&::-webkit-scrollbar":{width:"0",height:"0"}},table:{maxWidth:500},tableC:{borderBottomColor:e.palette.divider},playTitle:{position:"absolute",marginLeft:"15px",marginTop:"-25px"},tracklistTotal:{position:"absolute",marginLeft:"265px",marginTop:"640px"},tableRow:{"&:hover":{cursor:"pointer"}},selectedSongText:{color:"#1DB954"}}})(V)),X=a(27),$=a(29),J=a.n($),Q=Object(f.withStyles)(function(e){return{iconHover:{color:e.palette.primary.main,"&:hover":{color:e.palette.primary.light}}}})(function(e){var t=e.classes;return r.a.createElement(J.a,{className:t.iconHover,style:{fontSize:e.iconSize}},e.iconName)}),Z=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).handleClickNext=function(){var e=a.props,t=e.songList,n=e.songId,r=e.songIndex,o=e.token;n&&(r+1>=t.length?(a.props.playAudio(t[0]),a.props.playSong(t[0].track),a.props.getSongFeatures(t[0].track.id,o),a.props.getSongIndex(0)):(a.props.playAudio(t[r+1]),a.props.playSong(t[r+1].track),a.props.getSongFeatures(t[r+1].track.id,o),a.props.getSongIndex(r+1)))},a.handleClickPrevious=function(){var e=a.props,t=e.songList,n=e.songId,r=e.songIndex,o=e.token;n&&(0===r?(a.props.getSongIndex(t.length-1),a.props.playSong(t[t.length-1].track),a.props.getSongFeatures(t[t.length-1].track.id,o),a.props.playAudio(t[t.length-1])):(a.props.getSongIndex(r-1),a.props.playSong(t[r-1].track),a.props.getSongFeatures(t[r-1].track.id,o),a.props.playAudio(t[r-1])))},a.handleClickPlayPause=function(){var e=a.props,t=e.songPlaying,n=e.songPaused,r=e.songId,o=e.songList,s=e.songIndex;t&&n&&a.props.resumeAudio(),t&&!n&&a.props.pauseAudio(),!t&&r&&(a.props.playSong(o[s].track),a.props.playAudio(o[s]))},a.state={playPauseIcon:e.songPaused?"play_arrow":"pause"},a}return Object(g.a)(t,e),Object(p.a)(t,[{key:"componentDidUpdate",value:function(e){this.props.songPaused!==e.songPaused&&this.setState({playPauseIcon:this.props.songPaused?"play_arrow":"pause"})}},{key:"render",value:function(){var e=this.props.classes;return r.a.createElement(S.a,{className:e.root,container:!0,direction:"row",spacing:0},r.a.createElement(S.a,{item:!0},r.a.createElement(X.a,{disableRipple:!0,className:e.buttonSO,onClick:this.handleClickPrevious},r.a.createElement(Q,{iconName:"skip_previous",iconSize:40}))),r.a.createElement(S.a,{item:!0},r.a.createElement(X.a,{disableRipple:!0,className:e.buttonSO,onClick:this.handleClickPlayPause},r.a.createElement(Q,{iconName:this.state.playPauseIcon,iconSize:40}))),r.a.createElement(S.a,{item:!0},r.a.createElement(X.a,{disableRipple:!0,className:e.buttonSO,onClick:this.handleClickNext},r.a.createElement(Q,{iconName:"skip_next",iconSize:40}))))}}]),t}(r.a.Component),ee={playSong:O,getSongFeatures:T,getSongIndex:x},te=Object(i.b)(function(e){return{songPaused:e.songsReducer.songPaused,songPlaying:e.songsReducer.songPlaying,songDetails:e.songsReducer.songDetails,songList:e.songsReducer.songs?e.songsReducer.songs:null,songId:e.songsReducer.songId?e.songsReducer.songId:null,songIndex:e.songsReducer.songIndex,token:e.tokenReducer.token?e.tokenReducer.token:""}},ee)(Object(f.withStyles)({root:{flexGrow:1},buttonSO:{padding:"0px","&:hover":{backgroundColor:"transparent"}}})(Z)),ae=Object(f.withStyles)({image:{maxWidth:"640px",maxHeight:"640px"},img:{margin:"auto",display:"block",maxWidth:"100%",maxHeight:"100%",boxShadow:"2px 2px 10px #000000"}})(function(e){var t=e.classes;return r.a.createElement(S.a,{item:!0,xs:!0,className:t.image},r.a.createElement("img",{className:t.img,alt:"AnalBumCover",src:e.albumcover}))}),ne=a(70),re=a.n(ne),oe=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(d.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).secondFormatter=function(e){var t=Math.ceil(e);return t<10?"0:0".concat(t):"0:".concat(t)},a}return Object(g.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.props.classes;return r.a.createElement("div",{className:e.root},r.a.createElement(re.a,{min:0,max:30,step:1,className:e.root,classes:{container:e.slider,track:e.trackThickness,thumb:e.thumbIcon,activated:e.activated,jumped:e.jumped,focused:e.focused},value:Math.ceil(this.props.songsInfo.timeElapsed)}),r.a.createElement("div",{className:e.elapsedTimeMargin},r.a.createElement(W.a,{variant:"caption",noWrap:!0},this.secondFormatter(this.props.songsInfo.timeElapsed))),r.a.createElement("div",{className:e.totalTimeMargin},r.a.createElement(W.a,{variant:"caption",noWrap:!0},"0:30")))}}]),t}(r.a.Component),se=Object(i.b)(function(e){return{songsInfo:e.songsReducer}})(Object(f.withStyles)(function(e){return{root:{flexGrow:0,position:"relative"},elapsedTimeMargin:{verticalAlign:"bottom",float:"left",marginTop:"-10px"},totalTimeMargin:{verticalAlign:"bottom",float:"right",marginTop:"-10px"},slider:{"&:hover":{cursor:"default"},padding:"22px 0px"},trackThickness:{backgroundColor:e.palette.primary.main,height:5},thumbIcon:{opacity:1,"&:hover":{boxShadow:"0px 0px 0px 5px var(--custom-color)"},"&$activated":{boxShadow:"0px 0px 0px 9px var(--custom-color)!important"},"&$jumped":{boxShadow:"0px 0px 0px 9px var(--custom-color)!important"}},activated:{},jumped:{},focused:{}}})(oe)),ie=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).handleChange=function(e,t){a.setState({value:t}),a.props.updateVolume(Math.ceil(t))},a.state={value:e.volume},a}return Object(g.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.props.classes,t=this.state.value;return r.a.createElement(re.a,{min:0,max:100,className:e.root,classes:{container:e.slider,track:e.trackThickness,thumb:e.thumbIcon},value:t,onChange:this.handleChange,onDragEnd:this.props.jumpAtTime})}}]),t}(r.a.Component),ce={updateVolume:function(e){return{type:"UPDATE_VOLUME",volume:e}}},le=Object(i.b)(function(e){return{volume:e.soundReducer.volume}},ce)(Object(f.withStyles)(function(e){return{root:{flexGrow:1},slider:{padding:"22px 0px","&:hover $thumbIcon":{opacity:1}},trackThickness:{backgroundColor:e.palette.primary.main,height:5},thumbIcon:{opacity:0}}})(ie)),ue=function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.props.classes;return r.a.createElement(S.a,{className:e.root,container:!0,direction:"row"},r.a.createElement(S.a,{item:!0,xs:2},r.a.createElement(J.a,{className:e.ico,style:{fontSize:20}},"volume_up")),r.a.createElement(S.a,{item:!0,xs:!0},r.a.createElement(le,null)))}}]),t}(r.a.Component),pe=Object(f.withStyles)(function(e){return{root:{flexGrow:0},volIcon:{float:"right",marginRight:"-10px","&:hover":{backgroundColor:"transparent"}},ico:{float:"right",marginTop:"12px",marginRight:"5px",color:e.palette.primary.main}}})(ue),de=Object(i.b)(function(e){return{songDetails:e.songsReducer.songDetails}})(function(e){return r.a.createElement(W.a,{variant:"h4",color:"primary",noWrap:!0},e.songDetails?e.songDetails.artists[0].name+" - "+e.songDetails.name:null)}),he=Object(f.withStyles)({outer:{width:"100%",height:"100%",position:"absolute",backgroundColor:"rgba(255, 255, 255, 0.6)"}})(function(e){var t=e.classes;return r.a.createElement("div",{className:t.outer,style:{backgroundColor:e.bcolor}},e.children)}),ge=Object(f.withStyles)({inner:{width:"100%",height:"100%",position:"absolute",transform:"scale(0.89)"}})(function(e){var t=e.classes;return r.a.createElement("div",{className:t.inner},e.children)}),me=a(63),fe=a.n(me),ye=Object(f.withStyles)(function(e){return{fab:{backgroundColor:"#1DB954","&:hover":{backgroundColor:"#14813a"}},container:{maxWidth:"640px"},text:{paddingBottom:"30px"}}})(function(e){var t=e.classes;return r.a.createElement("div",{className:t.container},r.a.createElement(W.a,{className:t.text,variant:"h4",color:"primary"},"The colors will match the mood of the song."),r.a.createElement(fe.a,{variant:"extended",className:t.fab,onClick:function(){return window.location.href="https://accounts.spotify.com/authorize?client_id=11ca528f5f3447c3913e6f903faa8999&scope=playlist-read-private%20playlist-read-collaborative%20user-library-read%20user-read-private%20user-read-email%20user-top-read%20user-read-playback-state&response_type=token&redirect_uri=https://shaggun.github.io/spotify-moody-player"}},r.a.createElement(W.a,{color:"primary"},"LOG IN WITH SPOTIFY")))}),Se=a(117),Ee=a.n(Se),be=a(38),ve=a.n(be),ke=a(64),Oe=a.n(ke),xe=a(65),Te=a.n(xe),Ie=a(37),Ce=a.n(Ie),we=a(43),_e=a.n(we),Pe=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).handleChangeSettings=function(e){return function(t){switch(a.setState(Object(m.a)({},e,t.target.checked)),e){case"hiddenPlaylist":return a.props.toggleHiddenPlaylist();case"dynamicColor":return a.props.toggleDynamicColor();case"darkMode":return a.props.toggleDarkMode();default:return null}}},a.state={hiddenPlaylist:e.switchState.uiHiddenPlaylist,dynamicColor:e.switchState.uiDynamicColor,darkMode:e.switchState.uiDarkMode},a}return Object(g.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.props.classes;return r.a.createElement(_e.a,{className:e.paper},r.a.createElement(Oe.a,{component:"fieldset",className:e.fieldSet},r.a.createElement(Te.a,null,r.a.createElement(Ce.a,{control:r.a.createElement(ve.a,{checked:this.state.hiddenPlaylist,onChange:this.handleChangeSettings("hiddenPlaylist"),value:"hiddenPlay"}),label:"Hide Playlist"}),r.a.createElement(Ce.a,{control:r.a.createElement(ve.a,{checked:this.state.dynamicColor,onChange:this.handleChangeSettings("dynamicColor"),value:"dynamicColor"}),label:"Dynamic Color"}),this.state.dynamicColor?null:r.a.createElement(Ce.a,{control:r.a.createElement(ve.a,{checked:this.state.darkMode,onChange:this.handleChangeSettings("darkMode"),value:"darkMode"}),label:"Dark Mode"}))))}}]),t}(r.a.Component),je={toggleDarkMode:function(){return{type:"TOGGLE_DARK_MODE"}},toggleDynamicColor:function(){return{type:"TOGGLE_DYNAMIC_COLOR"}},toggleHiddenPlaylist:function(){return{type:"TOGGLE_HIDE_PLAYLIST"}}},Ne=Object(i.b)(function(e){return{switchState:e.uiSwitches}},je)(Object(f.withStyles)(function(e){return{paper:{position:"absolute",top:60,right:0,left:-100},wholeSet:{position:"relative"},fieldSet:{marginLeft:"10px"}}})(Pe)),Re=a(88),Ae=a.n(Re),De=a(118),Le=a.n(De),Ge=a(119),Fe=a.n(Ge),Me=a(120),Ue=a.n(Me),He=a(121),Ye=a.n(He),ze=a(122),Be=a.n(ze),We=a(123),Ve=a.n(We),qe=a(124),Ke=a.n(qe),Xe=a(125),$e=a.n(Xe),Je=a(126),Qe=a.n(Je),Ze=a(127),et=a.n(Ze),tt=a(128),at=a.n(tt),nt=a(87),rt=a.n(nt),ot=a(129),st=a.n(ot),it=[{color:Ae.a,shadeText:300},{color:Le.a,shadeText:400},{color:Fe.a,shadeText:700},{color:Ue.a,shadeText:900},{color:Ye.a,shadeText:900},{color:Be.a,shadeText:800},{color:Ve.a,shadeText:600},{color:Ke.a,shadeText:500},{color:$e.a,shadeText:300},{color:Qe.a,shadeText:600},{color:et.a,shadeText:500},{color:at.a,shadeText:400},{color:rt.a,shadeText:200},{color:st.a,shadeText:200}],ct=function(e){return Math.round(13*e)},lt=function(e){return 100*Math.round((800*e+100)/100)},ut=function(e,t){var a=ct(e),n=lt(t);return it[a].color[n]},pt=function(e,t){var a=ct(e),n=lt(t);return it[a].shadeText>=n},dt=function(e,t){var a=e.replace("#","");return"rgba("+parseInt(a.substring(0,2),16)+","+parseInt(a.substring(2,4),16)+","+parseInt(a.substring(4,6),16)+","+t+")"},ht=Object(f.createMuiTheme)({palette:{type:"dark",primary:{main:"#ffffff",light:"#1DB954"},secondary:{main:"#1DB954"}},typography:{useNextVariants:!0}}),gt=Object(f.createMuiTheme)({palette:{type:"light",primary:{main:"#242424",light:"#1DB954"},secondary:{main:"#1DB954"}},typography:{useNextVariants:!0}}),mt=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(d.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={open:!1,dynamicCover:Ee.a,dynamicBGColor:"rgba(2,136,209,0.6)",dynamicDarkText:!1,hiddenPlaylist:!1,dynamicColor:!0,darkMode:!0},a.stopSong=function(){a.audio?(a.props.stopSong(),a.audio.pause(),a.props.updateSongTime(0),clearInterval(a.state.routine)):(a.props.stopSong(),a.props.updateSongTime(0),clearInterval(a.state.routine))},a.resumeSong=function(){a.audio&&(a.props.resumeSong(),a.audio.play(),a.calculateTime())},a.pauseSong=function(){a.audio&&(a.props.pauseSong(),a.audio.pause(),clearInterval(a.state.routine))},a.playAudio=function(e){var t=a.props,n=t.updateSongTime,r=t.playSong;clearInterval(a.state.routine),null!==e.track.preview_url?void 0===a.audio?(a.audio=new Audio(e.track.preview_url),r(e.track),a.audio.play(),a.calculateTime()):(n(0),a.audio.pause(),a.audio=new Audio(e.track.preview_url),r(e.track),a.audio.play(),a.calculateTime()):a.stopSong()},a.handleClickSettings=function(e){a.setState(function(e){return{open:!e.open}})},a.handleClickAway=function(){a.setState({open:!1})},a.handleChangeSettings=function(e){return function(t){a.setState(Object(m.a)({},e,t.target.checked))}},a}return Object(g.a)(t,e),Object(p.a)(t,[{key:"componentDidUpdate",value:function(e){var t=this;this.props.songFeatures.energy&&this.props.songFeatures!==e.songFeatures&&this.setState(function(e){return{dynamicCover:t.props.songDetails.album.images[0].url,dynamicBGColor:dt(ut(t.props.songFeatures.energy,t.props.songFeatures.valence),.6),dynamicDarkText:pt(t.props.songFeatures.energy,t.props.songFeatures.valence)}}),void 0!==this.audio&&(this.audio.volume=this.props.volume/100)}},{key:"calculateTime",value:function(){var e=this,t=setInterval(function(){e.audio.ended?e.stopSong():e.props.songsInfo.songPaused||e.props.updateSongTime(e.audio.currentTime)},1e3);this.setState({routine:t})}},{key:"render",value:function(){var e=this.props.classes,t=this.state,a=t.open,n=t.dynamicCover;return document.body.style.backgroundImage="url(".concat(n,")"),r.a.createElement(f.MuiThemeProvider,{theme:this.props.switchState.uiDynamicColor?this.state.dynamicDarkText?gt:ht:this.props.switchState.uiDarkMode?ht:gt},r.a.createElement(he,{bcolor:this.props.switchState.uiDynamicColor?this.state.dynamicBGColor:this.props.switchState.uiDarkMode?"rgba(0, 0, 0, 0.6)":"rgba(255, 255, 255, 0.4)"},r.a.createElement(ge,null,r.a.createElement("div",{className:e.root},r.a.createElement(S.a,{container:!0,justify:"space-between",alignItems:"stretch",spacing:16,className:e.gridContainer},r.a.createElement(S.a,{item:!0,container:!0,xs:12,direction:"row",justify:"space-between",alignItems:"center",spacing:16,wrap:"nowrap"},r.a.createElement(S.a,{item:!0,xs:1},r.a.createElement(J.a,{className:e.iconPlaceholder,style:{fontSize:40}},"fiber_manual_record")),r.a.createElement(S.a,{item:!0,zeroMinWidth:!0},r.a.createElement(de,null)),r.a.createElement(S.a,{item:!0,xs:1,container:!0,justify:"flex-end"},this.props.auth.token?r.a.createElement("div",{className:e.wholeSet},r.a.createElement(b.a,{onClickAway:this.handleClickAway},r.a.createElement("div",null,r.a.createElement(k.a,{disableRipple:!0,className:e.iconSelection,onClick:this.handleClickSettings},r.a.createElement(Q,{iconName:"more_horiz",iconSize:40})),a?r.a.createElement(Ne,null):null))):null)),this.props.switchState.uiHiddenPlaylist?r.a.createElement(S.a,{item:!0,container:!0,xs:12,direction:"row",spacing:16,justify:"center",alignItems:"center",className:e.topRow},r.a.createElement(ae,{albumcover:n})):r.a.createElement(S.a,{item:!0,container:!0,xs:12,direction:"row",spacing:16,justify:"center",alignItems:"center",className:e.topRow},r.a.createElement(S.a,{item:!0,container:!0,xs:!0,justify:"flex-end"},r.a.createElement(ae,{albumcover:n})),r.a.createElement(S.a,{item:!0,container:!0,xs:6},this.props.auth.token?r.a.createElement(K,{playAudio:this.playAudio}):r.a.createElement(ye,null))),r.a.createElement(S.a,{item:!0,container:!0,xs:12,direction:"row",justify:"space-between",spacing:16},this.props.auth.token?r.a.createElement(r.a.Fragment,null,r.a.createElement(S.a,{item:!0},r.a.createElement(te,{pauseAudio:this.pauseSong,resumeAudio:this.resumeSong,playAudio:this.playAudio})),r.a.createElement(S.a,{item:!0,xs:!0},r.a.createElement(se,null)),r.a.createElement(S.a,{item:!0,sm:1},r.a.createElement(pe,null))):null))))))}}]),t}(r.a.Component),ft={playSong:O,stopSong:function(){return{type:"STOP_SONG"}},pauseSong:function(){return{type:"PAUSE_SONG"}},resumeSong:function(){return{type:"RESUME_SONG"}},updateSongTime:function(e){return{type:"UPDATE_SONG_TIME",time:e}}},yt=Object(i.b)(function(e){return{switchState:e.uiSwitches,auth:e.tokenReducer,songDetails:e.songsReducer.songDetails,songFeatures:e.songsReducer.features?e.songsReducer.features:"",songsInfo:e.songsReducer,volume:e.soundReducer.volume}},ft)(Object(f.withStyles)(function(e){return{root:{flexGrow:1,width:"100%",height:"100vh"},gridContainer:{},topRow:{height:"85vh",overflow:"hidden"},paper:{position:"absolute",top:60,right:0,left:-100},iconSelection:{"&:hover":{backgroundColor:"transparent"}},iconPlaceholder:{color:"rgba(0,0,0,0)"},wholeSet:{position:"relative"},fieldSet:{marginLeft:"10px"},ContainerOuter:{width:"100%",height:"100%",position:"absolute",backgroundColor:"rgba(0, 0, 0, 0.6)"},ContainerInner:{width:"100%",height:"100%",position:"absolute",transform:"scale(0.89)"}}})(mt)),St=a(67),Et=a.n(St),bt=function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){for(var e,t={},a=/([^&;=]+)=?([^&;]*)/g,n=window.location.hash.substring(1);e=a.exec(n);)t[e[1]]=decodeURIComponent(e[2]);t.access_token&&this.props.setToken(t.access_token)}},{key:"componentDidUpdate",value:function(e){e.token!==this.props.token&&this.props.fetchUser(this.props.token.token)}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(Et.a,null),r.a.createElement(yt,null))}}]),t}(r.a.Component),vt=Object(i.b)(function(e){return{token:e.tokenReducer}},{setToken:function(e){return{type:"SET_TOKEN",token:e}},fetchUser:function(e){return function(t){var a=new Request("https://api.spotify.com/v1/me",{headers:new Headers({Authorization:"Bearer "+e})});fetch(a).then(function(e){return"Unauthorized"===e.statusText&&(window.location.href="./"),e.json()}).then(function(e){t({type:"FETCH_USER_SUCCESS",user:e})}).catch(function(e){t({type:"FETCH_USER_ERROR"})})}}})(bt),kt=a(9),Ot={uiHiddenPlaylist:!1,uiDynamicColor:!0,uiDarkMode:!0},xt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ot;switch((arguments.length>1?arguments[1]:void 0).type){case"TOGGLE_HIDE_PLAYLIST":return Object(kt.a)({},e,{uiHiddenPlaylist:!e.uiHiddenPlaylist});case"TOGGLE_DYNAMIC_COLOR":return Object(kt.a)({},e,{uiDynamicColor:!e.uiDynamicColor});case"TOGGLE_DARK_MODE":return Object(kt.a)({},e,{uiDarkMode:!e.uiDarkMode});default:return e}},Tt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_USER_SUCCESS":return Object(kt.a)({},e,{user:t.user,fetchUserError:!1});case"FETCH_USER_ERROR":return Object(kt.a)({},e,{fetchUserError:!0});default:return e}},It=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_PLAYLISTS_PENDING":return Object(kt.a)({fetchPlaylistsPending:!0},e);case"FETCH_PLAYLISTS_SUCCESS":return Object(kt.a)({playlists:t.playlists,fetchPlaylistError:!1,fetchPlaylistsPending:!1},e);case"FETCH_PLAYLISTS_ERROR":return Object(kt.a)({fetchPlaylistError:!0,fetchPlaylistsPending:!1},e);case"GET_PLAYLIST_INDEX":return Object(kt.a)({},e,{playlistIndex:t.playlistIndex});default:return e}},Ct={fetchSongsPending:!0,songPlaying:!1,timeElapsed:0,songId:0,viewType:"songs",songPaused:!0},wt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ct,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_PLAYLIST_SONGS_PENDING":return Object(kt.a)({},e,{fetchSongsPending:!0});case"FETCH_PLAYLIST_SONGS_SUCCESS":return Object(kt.a)({},e,{songs:t.songs,fetchArtistSongsError:!1,fetchArtistSongsPending:!1,playlistId:t.playlistId});case"FETCH_PLAYLIST_SONGS_ERROR":return Object(kt.a)({},e,{fetchArtistSongsError:!0,fetchArtistSongsPending:!1});case"PLAY_SONG":return Object(kt.a)({},e,{songPlaying:!0,songDetails:t.song,songId:t.song.id,timeElapsed:0,songPaused:!1});case"STOP_SONG":return Object(kt.a)({},e,{songPlaying:!1,timeElapsed:0,songPaused:!0});case"PAUSE_SONG":return Object(kt.a)({},e,{songPaused:!0});case"RESUME_SONG":return Object(kt.a)({},e,{songPaused:!1});case"UPDATE_SONG_TIME":return Object(kt.a)({},e,{timeElapsed:t.time});case"GET_SONG_INDEX":return Object(kt.a)({},e,{songIndex:t.songIndex});case"GET_SONG_FEATURES_ERROR":return Object(kt.a)({},e,{getSongFeaturesError:!0,getSongFeaturesPending:!1});case"GET_SONG_FEATURES_PENDING":return Object(kt.a)({},e,{getSongFeaturesPending:!0,getSongFeaturesError:!1});case"GET_SONG_FEATURES_SUCCESS":return Object(kt.a)({},e,{features:t.features,getSongFeaturesError:!1,getSongFeaturesPending:!1});default:return e}},_t=Object(c.c)({userReducer:Tt,uiSwitches:xt,playlistsReducer:It,songsReducer:wt,soundReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{volume:100},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_VOLUME":return{volume:t.volume};default:return e}},tokenReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_TOKEN":return Object(kt.a)({},e,{token:t.token});default:return e}}}),Pt=Object(c.d)(_t,Object(c.a)(l.a));s.a.render(r.a.createElement(i.a,{store:Pt},r.a.createElement(vt,null)),document.querySelector("#root"))}},[[208,1,2]]]);
//# sourceMappingURL=main.ac8af083.chunk.js.map